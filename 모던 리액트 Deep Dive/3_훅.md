# ëª¨ë˜ ë¦¬ì•¡íŠ¸ Deep Dive 3ì¥

ğŸ“Œ êµì¬ ë³¸ë¬¸ì—ì„œëŠ” í›…ì˜ ë‚´ë¶€ êµ¬ì¡°ê¹Œì§€ êµ¬í˜„í•˜ëŠ” ë¶€ë¶„ì´ ë‚˜ì˜¤ëŠ”ë°, ê´€ì‹¬ ìˆìœ¼ì‹  ë¶„ì€ ì½ì–´ ë³´ì‹œë©´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.

ğŸ“Œ êµì¬ ë³¸ë¬¸ê³¼ ì˜ˆì œ ì½”ë“œ ì°¨ì´ê°€ ìˆì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

# 3.1 ë¦¬ì•¡íŠ¸ì˜ ëª¨ë“  í›… íŒŒí—¤ì¹˜ê¸°

- í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ê°œë…ì€ í›…ì…ë‹ˆë‹¤.
- í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ì—ì„œë§Œ ê°€ëŠ¥í–ˆë˜ state, ref ë“± ë¦¬ì•¡íŠ¸ì˜ í•µì‹¬ì ì¸ ê¸°ëŠ¥ì„ í•¨ìˆ˜ì—ì„œë„ ê°€ëŠ¥í•˜ê²Œ ë§Œë“¤ì—ˆê³ , ë¬´ì—‡ë³´ë‹¤ í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ë³´ë‹¤ ê°„ê²°í•˜ê²Œ ì‘ì„± ê°€ëŠ¥í•©ë‹ˆë‹¤.

## 3.1.1 `useState`

### ì‚¬ìš©ë²•

```jsx
const [state, setState] = useState( ì´ˆê¸°ê°’ );
```

stateì—ëŠ” í˜„ì¬ê°’ì´ ë“¤ì–´ê°€ë©°, setStateë¡œ stateë¥¼ ìƒˆë¡œ ë³€ê²½ ê°€ëŠ¥í•©ë‹ˆë‹¤. ë§Œì•½ stateë¥¼ ë³€ê²½í•  ë•Œ ì´ì „ stateì™€ ê´€ë ¨ì´ ìˆë‹¤ë©´ ë‹¤ìŒ ì½”ë“œì²˜ëŸ¼

ì¸ìë¥¼ ì´ì „ state(prevState)ìœ¼ë¡œ,

return ê°’ì„ ë³€ê²½ë˜ëŠ” state(newState)

ë¡œ ì‘ì„±í•˜ëŠ” ê²Œ ì¢‹ìŠµë‹ˆë‹¤.

```jsx
setState((prevState) => {
	// ...
    return newState;
});
```

### ì˜ˆì œ ì½”ë“œ

useStateë¥¼ ì´ìš©í•˜ì—¬ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ stateê°€ 1ì”© ì¦ê°€í•˜ëŠ” ì¹´ìš´í„° ì•± êµ¬í˜„í•˜ê¸°

```jsx
import React, { useState } from "react";

export default function App() {
  const [state, setState] = useState(0);

  function handleClick() {
    setState((prev) => prev + 1);
  }

  return (
    <div>
      <h1>Counter</h1>
      <h2>state: {state}</h2>
      <button onClick={handleClick}>+ 1</button>
    </div>
  );
}
```

### ì™œ ì“¸ê¹Œ?

â†’ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•´ ìƒíƒœê°’ì„ ê´€ë¦¬í•˜ë©´?

useStateë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ìì²´ì ìœ¼ë¡œ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•´ ìƒíƒœê°’ì„ ê´€ë¦¬í•  ê²½ìš°, ì½”ë“œê°€ ë™ì‘í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë¦¬ì•¡íŠ¸ì˜ ë¦¬ë Œë”ë§ì„ ë°œìƒì‹œí‚¤ê¸° ìœ„í•œ ì¡°ê±´ì„ ì¶©ì¡±í•˜ì§€ ëª»í•˜ê¸° ë•Œë¬¸!

```jsx
import React from "react";

export default function App() {
  let state = "ìˆ˜ì • ì „";

  function handleButtonClick() {
    state = "ìˆ˜ì • ì™„ë£Œ";
    console.log("ìˆ˜ì • ì™„ë£Œ")
  }
  return (
    <>
      <h1>{state}</h1>
      <button onClick={handleButtonClick}>ìˆ˜ì •í•˜ê¸°</button>
    </>
  );
}

```

### ê²Œìœ¼ë¥¸ ì´ˆê¸°í™”

â†’ useStateì— ë³€ìˆ˜ ëŒ€ì‹  í•¨ìˆ˜ë¥¼ ë„˜ê¸°ëŠ” ê²ƒ

```jsx
import { useState } from "react";

const heavyWork = () => {
  console.log("ë¬´ê±°ìš´ ì‘ì—…"); // ë¬´ê±°ìš´ ì—°ì‚°ì„ í•œë‹¤ê³  ê°€ì •
  return ["Hyun", "Lily"]; // ê¸°ë³¸ê°’
};

function App() {
  const [names, setNames] = useState(heavyWork()); // ì´ˆê¹ƒê°’: ë¬´ê±°ìš´ ì—°ì‚°
  const [input, setInput] = useState("");

  const handleInputChange = (event) => {
    setInput(event.target.value);
  };

  const handleUpload = () => {
    setNames((prevState) => {
      return [input, ...prevState];
      // inputì˜ stateë¥¼ ì—…ë°ì´íŠ¸ í•  ë•Œë§ˆë‹¤ ì´ì „ ê°’ì„ ë‹¤ì‹œ ë¶ˆëŸ¬ì˜¤ê²Œ ë˜ëŠ”ë°, ì—¬ê¸°ì„œ ì´ˆê¹ƒê°’ì„ ë‹¤ì‹œ ì—°ì‚°í•˜ê²Œ ëœë‹¤.
    });
  };

  return (
    <div>
      <input type="text" value={input} onChange={handleInputChange} />

      <button onClick={handleUpload}>Upload</button>
      {names.map((name, index) => {
        return <p key={index}>{name}</p>;
      })}
    </div>
  );
}

export default App;

```

ê·¸ë˜ì„œ ì´ˆê¸°ê°’ì„ ë„£ì–´ì£¼ëŠ” ì¸ìì— ë°”ë¡œ ê°’ì„ ë„£ì–´ì£¼ëŠ” ê²Œ ì•„ë‹ˆë¼, ì½œë°± í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ë©´ ë” íš¨ìœ¨ì ìœ¼ë¡œ ì½”ë“œë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
function App() {
  const [names, setNames] = useState(() => {
    return heavyWork();
  });
```

ì´ ì½”ë“œì²˜ëŸ¼ ë¦¬í„´ê°’ì— ë„£ì–´ì£¼ë©´, ì²˜ìŒ ë Œë”ë§ë  ë•Œë§Œ "ë¬´ê±°ìš´ ì‘ì—…"ì´ ì½˜ì†”ì—ì„œ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.

## 3.1.2 `useEffect`

### useEffectì˜ ì •ì˜

- ë‘ ê°œì˜ ì¸ìˆ˜ë¥¼ ë°›ëŠ”ë°, ì²« ë²ˆì§¸ëŠ” ì½œë°± í•¨ìˆ˜ / ë‘ ë²ˆì§¸ëŠ” ì˜ì¡´ì„± ë°°ì—´ë¡œ ì˜ì¡´ì„± ë°°ì—´ì˜ ê°’ì´ ë³€ê²½ë˜ë©´ ì½œë°±ì„ ì‹¤í–‰
- í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ì˜ ìƒëª…ì£¼ê¸° ë©”ì„œë“œì²˜ëŸ¼ ë‘ ë²ˆì§¸ ì˜ì¡´ì„± ë°°ì—´ì— ë¹ˆ ë°°ì—´ì„ ë„£ìœ¼ë©´ ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë  ë•Œë§Œ ì‹¤í–‰
- useEffectëŠ” í´ë¦°ì—… í•¨ìˆ˜ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆê³ , ì´ í•¨ìˆ˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì–¸ë§ˆìš´íŠ¸ë  ë•Œ ì‹¤í–‰

### ì‚¬ìš©ë²•

**ì˜ì¡´ì„± ë°°ì—´ì´ ì—†ì„ ë•Œ**

```jsx
useEffect(()=>{
    // ì‘ì—…
});
```

â†’ ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸, ì—…ë°ì´íŠ¸ë  ë•Œ ì‹¤í–‰

**ì˜ì¡´ì„± ë°°ì—´ì´ ìˆì„ ë•Œ**

```jsx
useEffect(()=>{
    // ì‘ì—…
}, [value]);
```

â†’ ë§¤ë²ˆ ë Œë”ë§ì´ ë  ë•Œë§ˆë‹¤ ì‹¤í–‰ë˜ì§€ ì•Šê³  ë§ˆìš´íŠ¸ë  ë•Œì™€ ë°°ì—´ì´ ë³€ê²½ë  ë•Œ ì‹¤í–‰

**ì˜ì¡´ì„± ë°°ì—´ì´ ë¹ˆ ë°°ì—´ì¼ ë•Œ**

```jsx
useEffect(()=>{
    // ì‘ì—…
}, []);
```

â†’ ì»´í¬ë„ŒíŠ¸ê°€ ë§¨ ì²˜ìŒ í™”ë©´ì— ë Œë”ë§ë  ë•Œë§Œ ì‹¤í–‰

### ì˜ˆì œ ì½”ë“œ

```jsx
import { useEffect, useState } from "react";

const App = () => {
  const [count, setCount] = useState(0);
  const [name, setName] = useState("");

  const handledCountUpdate = () => {
    setCount(count + 1);
  };

  const handleInputChange = (e) => {
    setName(e.target.value);
  };

  // ë Œë”ë§ ë  ë•Œë§ˆë‹¤ ë§¤ë²ˆ ì‹¤í–‰ë¨
  useEffect(() => {
    console.log("ğŸ©¶ ë Œë”ë§");
  });

  // ë¹ˆ ë°°ì—´ì„ ë„£ìœ¼ë©´ ë§ˆìš´íŠ¸ë  ë•Œë§Œ ì‹¤í–‰
  useEffect(() => {
    console.log("ğŸ’› ë§ˆìš´íŒ…");
  }, []);

  // ë§ˆìš´íŒ… + count ë³€ê²½ë  ë•Œë§ˆë‹¤ ì‹¤í–‰
  useEffect(() => {
    console.log("ğŸ’š count ë³€í™”");
  }, [count]);

  // ë§ˆìš´íŒ… + name ë³€ê²½ë  ë•Œë§ˆë‹¤ ì‹¤í–‰
  useEffect(() => {
    console.log("ğŸ©· name ë³€í™”");
  }, [name]);

  return (
    <div>
      <button onClick={handledCountUpdate}>Update</button>
      <h3>count: {count}</h3>
      <input type="text" value={name} onChange={handleInputChange} />
      <span>name: {name}</span>
    </div>
  );
};

export default App;
```

### í´ë¦°ì—… í•¨ìˆ˜

```jsx
import { useState } from "react";
import Timer from "./Timer";

const App = () => {
  const [showTimer, setShowTimer] = useState(false);

  return (
    <div>
      {showTimer && <Timer />}
      <br></br>
      <button onClick={() => setShowTimer(!showTimer)}>Toggle Timer</button>
    </div>
  );
};

export default App;
```

```jsx
import { useEffect } from "react";

const Timer = (props) => {
  useEffect(() => {
    const timer = setInterval(() => {
      console.log("íƒ€ì´ë¨¸ ì‹¤í–‰ ì¤‘...");
    }, 1000);
  }, []);
  return (
    <div>
      <span>íƒ€ì´ë¨¸ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤. ì½˜ì†”ì„ ë³´ì„¸ìš”!</span>
    </div>
  );
};

export default Timer;
```

ì½˜ì†”ì— 1ì´ˆë§ˆë‹¤ "íƒ€ì´ë¨¸ ì‹¤í–‰ ì¤‘..."ì´ë¼ëŠ” ë©”ì„¸ì§€ê°€ ì°í™ë‹ˆë‹¤. ê·¸ëŸ°ë°, ì´ë ‡ê²Œ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ Toggle Timer ë²„íŠ¼ì„ í•œ ë²ˆ ë” ëˆŒëŸ¬ íƒ€ì´ë¨¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ì•ˆ ë³´ì´ê²Œ ë§Œë“¤ì–´ë„ ì½˜ì†”ì—ëŠ” ì—¬ì „íˆ 1ì´ˆë§ˆë‹¤ "íƒ€ì´ë¨¸ ì‹¤í–‰ì¤‘" ë©”ì„¸ì§€ê°€ ë³´ì…ë‹ˆë‹¤.

ì´ëŠ” ì •ë¦¬ ì‘ì—…ì„ í•˜ì§€ ì•Šì•„ì„œ ë°œìƒí•˜ëŠ”ë°, ì •ë¦¬ë¥¼ í•˜ê¸° ìœ„í•´ì„œëŠ”Â **useEffect ë¦¬í„´ê°’**ìœ¼ë¡œ í•¨ìˆ˜ë¥¼ ë„£ìœ¼ë©´ ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ê·¸ í•¨ìˆ˜ ì•ˆì—ì„œ ì •ë¦¬ ì‘ì—…ì„ í•˜ë©´ ë©ë‹ˆë‹¤.

**â†’ ë¦¬í„´ê°’ì€ ì»´í¬ë„ŒíŠ¸ê°€ ì–¸ë§ˆìš´íŠ¸ë  ë•Œ ì‹¤í–‰!**

```jsx
  useEffect(() => {
    const timer = setInterval(() => {
      console.log("íƒ€ì´ë¨¸ ì‹¤í–‰ ì¤‘...");
    }, 1000);

    return () => {
      // ì •ë¦¬ ì‘ì—…, ì¦‰ ì»´í¬ë„ŒíŠ¸ê°€ ì–¸ë§ˆìš´íŠ¸ë  ë•Œ ì‹¤í–‰
      clearInterval(timer);
      console.log("íƒ€ì´ë¨¸ê°€ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.");
    };
  }, []); // ë¹ˆ ë°°ì—´ì„ ì „ë‹¬í•˜ì—¬ ë§ˆìš´íŠ¸ë  ë•Œë§Œ ì‹¤í–‰
```

### ë”ë³´ê¸° 1: useEffect ì‚¬ìš©í•  ë•Œ ì£¼ì˜í•  ì  (ê¶Œê³  ì‚¬í•­)

- useEffectì— ë¹ˆ ë°°ì—´ì„ ë„˜ê¸°ê¸° ì „ì— ì •ë§ useEffectì˜ ì‚¬ì´ë“œ ì´í™íŠ¸ê°€ ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœì™€ ë³„ê°œì¸ì§€, ë˜ëŠ” ì—¬ê¸°ì„œ í˜¸ì¶œí•˜ëŠ” ê²Œ ìµœì„ ì¸ì§€ ìƒê°í•˜ê¸°
- useEffectì˜ ì²« ë²ˆì§¸ ì¸ìˆ˜ì— í•¨ìˆ˜ëª… ë¶€ì—¬í•˜ê¸° â†’ ìµëª…í•¨ìˆ˜ ë³´ë‹¤ ê¸°ëª…í•¨ìˆ˜ë¥¼ ì“°ëŠ” ê²ƒì´ useEffect ëª©ì  íŒŒì•…í•˜ê¸° ì‰¬ì›€
- ê±°ëŒ€í•œ useEffectë¥¼ ë§Œë“¤ì§€ ë§ ê²ƒ â†’ ì ì€ ì˜ì¡´ì„± ë°°ì—´ì„ ì‚¬ìš©í•˜ëŠ” ì—¬ëŸ¬ ê°œì˜ useEffectë¡œ ë¶„ë¦¬
- ë¶ˆí•„ìš”í•œ ì™¸ë¶€í•¨ìˆ˜ ë§Œë“¤ì§€ ë§ ê²ƒ â†’ useEffect ë‚´ì— ì‚¬ìš©í•  ë¶€ìˆ˜ íš¨ê³¼ë¼ë©´, ë‚´ë¶€ì—ì„œ ì •ì˜í•  ê²ƒ

### ë”ë³´ê¸° 2: useEffectì˜ ì˜ì¡´ì„± ë°°ì—´

- ë¹ˆ ë°°ì—´ â†’ ë¹„êµí•  ì˜ì¡´ì„± X, ìµœì´ˆ ë Œë”ë§ ì§í›„ ì‹¤í–‰ëœ ë‹¤ìŒë¶€í„° ì‹¤í–‰ X
- ì•„ë¬´ ê°’ X â†’ ì˜ì¡´ì„± ë¹„êµí•  í•„ìš” ì—†ì´ ë Œë”ë§ ë  ë•Œë§ˆë‹¤ ì‹¤í–‰ (ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ ëëŠ”ì§€ í™•ì¸)
- ì˜ì¡´ì„± ë°°ì—´ì— ê°’ ì§ì ‘ ë„£ê¸°

Q. ì˜ì¡´ì„± ë°°ì—´ì´ ì—†ëŠ” useEffectê°€ ë§¤ ë Œë”ë§ ë§ˆë‹¤ ì‹¤í–‰ëœë‹¤ë©´, useEffect ì—†ì´ ì¨ë„ ë˜ëŠ” ê²Œ ì•„ë‹Œê°€?

```jsx
function Component() {
	console.log('ë Œë”ë§')
}
```

```jsx
function Component() {
	useEffect(() => {
		console.log('ë Œë”ë§')
	})
}
```

ë‘˜ì˜ ì°¨ì´ì ì€ ë‘ ê°€ì§€ ì •ë„ê°€ ìˆìŠµë‹ˆë‹¤.

1. ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ ê´€ì ì—ì„œ useEffectëŠ” í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œì—ì„œ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ ë³´ì¥.
2. useEffect â†’ ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ ì´í›„ ì‹¤í–‰
    
    ì§ì ‘ ì‹¤í–‰ â†’ ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ ì¤‘ê°„ ì‹¤í–‰
    

ê²°ë¡ : useEffectë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë Œë”ë§ì„ ë°©í•´í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ğŸ˜Â ì°¸ê³ í•˜ë©´ ì¢‹ì„ ì‚¬ì´íŠ¸

https://rinae.dev/posts/a-complete-guide-to-useeffect-ko/

## 3.1.3 `useMemo`

useMemoëŠ” ë¹„ìš©ì´ í° ì—°ì‚°ì— ëŒ€í•œ ê²°ê³¼ë¥¼ ì €ì¥í•©ë‹ˆë‹¤. (`ë©”ëª¨ì´ì œì´ì…˜`)

ê·¸ë¦¬ê³  ì´ ì €ì¥ëœ ê°’ì„ ë°˜í™˜ â†’ ê·¸ë˜ì„œ ë³´í†µ ìµœì í™”í•  ë•Œ ë‚˜ì˜µë‹ˆë‹¤.

### ì‚¬ìš©ë²•

```jsx
const memoiszedValue = useMemo(() => expensiveComputation(a, b), [a, b])
```

`( ) â‡’ expensiveComputation(a, b)` : ì–´ë– í•œ ê°’ì„ ë°˜í™˜í•˜ëŠ” ìƒì„± í•¨ìˆ˜

`[a, b]` : í•´ë‹¹ í•¨ìˆ˜ê°€ ì˜ì¡´í•˜ëŠ” ê°’ì˜ ë°°ì—´ì„ ì „ë‹¬

### `useMemo`ëŠ” ë Œë”ë§ì´ ë°œìƒí•  ë•Œâ€¦

- ì˜ì¡´ì„± ë°°ì—´ì˜ ê°’ ë³€ê²½ o
    - í•¨ìˆ˜ ì‹¤í–‰ í›„ ê·¸ ê°’ ë°˜í™˜ â†’ ë‹¤ì‹œ ê¸°ì–µ
- ì˜ì¡´ì„± ë°°ì—´ì˜ ê°’ ë³€ê²½ x
    - í•¨ìˆ˜ ì¬ì‹¤í–‰ X, ì´ì „ ì €ì¥ ê°’ ë°˜í™˜

useMemoë¡œ ì»´í¬ë„ŒíŠ¸ë„ ê°ìŒ€ ìˆ˜ ìˆì§€ë§Œ, React.memoë¥¼ ì“°ëŠ” ê²ƒì´ ë” ì¢‹ìŠµë‹ˆë‹¤.

### ì˜ˆì œ ì½”ë“œ

```jsx
import { useState } from "react";

const hardCalculate = (number) => {
  console.log("ì–´ë ¤ìš´ ê³„ì‚°!");
  for (let i = 0; i < 999999999; i++) {
    i;
  } // ìƒê°í•˜ëŠ” ì‹œê°„
  return number + 10000;
};

const easyCalculate = (number) => {
  console.log("ì‰¬ìš´ ê³„ì‚°!");
  return number + 1;
};

function App() {
  const [hardNumber, setHardNumber] = useState(1);
  const [easyNumber, setEasyNumber] = useState(1);

  const hardSum = hardCalculate(hardNumber);
  const easySum = easyCalculate(easyNumber);

  return (
    <div>
      <h3>ì–´ë ¤ìš´ ê³„ì‚°ê¸°</h3>
      <input
        type="number"
        value={hardNumber}
        onChange={(e) => setHardNumber(parseInt(e.target.value))}
      />
      <span> + 10000 = {hardSum}</span>

      <h3>ì‰¬ìš´ ê³„ì‚°ê¸°</h3>
      <input
        type="number"
        value={easyNumber}
        onChange={(e) => setEasyNumber(parseInt(e.target.value))}
      />
      <span> + 1 = {easySum}</span>
    </div>
  );
}

export default App;
```

ì–´ë ¤ìš´ ê³„ì‚°ê¸°ì˜ ê°’ì„ ë°”ê¾¸ë©´ ë”œë ˆì´ê°€ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ, ì‰¬ìš´ ê³„ì‚°ê¸°ì˜ ê°’ì„ ë°”ê¿”ë„ ë”œë ˆì´ê°€ ìˆìŠµë‹ˆë‹¤. ì´ìœ ëŠ” ì‰¬ìš´ ê³„ì‚°ê¸°ì˜ input ê°’ì„ ë³€ê²½í•˜ë©´ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì¸ Appì´ ë¦¬ë Œë”ë§ ë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë©´ ë‚´ë¶€ ë³€ìˆ˜ë“¤ì´ ì´ˆê¸°í™”ë˜ê¸° ë•Œë¬¸ì— hardCalculateë„ ë‹¤ì‹œ ì‹¤í–‰ë©ë‹ˆë‹¤. 

ì´ë ‡ê²Œ useMemoë¥¼ í†µí•´ ì´ë¥¼ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
 const hardSum = useMemo(() => {
    return hardCalculate(hardNumber);
  }, [hardNumber]);
  const easySum = easyCalculate(easyNumber);
```

## 3.1.4 `useCallback`

useMemoê°€ ê°’ì„ ê¸°ì–µí•œë‹¤ë©´, `useCallback`ì€ ì¸ìˆ˜ë¡œ ë„˜ê²¨ë°›ì€ ì½œë°± ìì²´ë¥¼ ê¸°ì–µí•©ë‹ˆë‹¤. ë‘˜ì˜ ì°¨ì´ëŠ” ë©”ëª¨ì´ì œì´ì…˜ì„ í•˜ëŠ” ëŒ€ìƒì´ ë³€ìˆ˜ì¸ì§€ (ë³€ìˆ˜ë¼ë©´ useMemo) í•¨ìˆ˜ì¸ì§€ (í•¨ìˆ˜ë¼ë©´ useCallback) ë¡œ êµ¬ë¶„í•©ë‹ˆë‹¤.

ì´ëŸ¬í•œ `useCallback`ì€ íŠ¹ì • í•¨ìˆ˜ë¥¼ ìƒˆë¡œ ë§Œë“¤ì§€ ì•Šê³  ì¬ì‚¬ìš©í•©ë‹ˆë‹¤.

### ì‚¬ìš©ë²•

```jsx
const calculate = useCallback((num) => {
  return num + 1;
}, [item])
```

êµ¬ì¡° ë˜í•œ useMemoì™€ ê°™ìŠµë‹ˆë‹¤.

### ì˜ˆì œ ì½”ë“œ

```jsx
import { useEffect, useState, useCallback } from "react";

function App() {
  const [number, setNumber] = useState(0);

  const someFunction = useCallback(() => {
    console.log(`someFunc: number : ${number}`);
    return;
  }, [number]);

  useEffect(() => {
    console.log("someFunction ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.");
  }, [someFunction]);

  return (
    <div>
      <input
        type="number"
        value={number}
        onChange={(e) => setNumber(e.target.value)}
      />
      <br />
      <button onClick={someFunction}>Call someFunc</button>
    </div>
  );
}

export default App;

```

input ì•ˆì— ìˆëŠ” numberë¥¼ ì¦ê°€ì‹œì¼œì£¼ë©´ numberê°€ ë°”ë€” ë•Œë§ˆë‹¤ useEffectê°€ ë¶ˆë¦¬ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì™œëƒí•˜ë©´ [number]ê°€ ë°”ë€Œë©´ í•¨ìˆ˜ê°€ ë‹¤ì‹œ ìƒì„±ë˜ì–´ ë‹¤ì‹œ ë©”ëª¨ì´ì œì´ì…˜ë˜ê³  ê·¸ë ‡ê¸° ë•Œë¬¸ì— someFunction ì•ˆì—ëŠ” ìƒˆë¡œìš´ í•¨ìˆ˜ì˜ ì£¼ì†Œê°€ ë“¤ì–´ê°‘ë‹ˆë‹¤.

ê·¸ë˜ì„œ useEffect ì•ˆì˜ ì˜ì¡´ì„± ë°°ì—´ ì•ˆì— ìˆëŠ” [someFunction]ì˜ ê°’ì´ ë°”ë€Œì—ˆìœ¼ë‹ˆê¹Œ ì½˜ì†”ì´ ì¶œë ¥ì´ ë˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

## 3.1.5 `useRef`

`useRef`ëŠ” useStateì™€ ë™ì¼í•˜ê²Œ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ë Œë”ë§ì´ ì¼ì–´ë‚˜ë„ ë³€ê²½ ê°€ëŠ¥í•œ ìƒíƒœê°’ì„ ì €ì¥í•œë‹¤ëŠ” ê³µí†µì ì´ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ useStateì™€ êµ¬ë³„ë˜ëŠ” ì°¨ì´ì ì´ ë‘ ê°€ì§€ ìˆìŠµë‹ˆë‹¤.

- `useRef` ëŠ” ë°˜í™˜ ê°’ì¸ ê°ì²´ ë‚´ë¶€ì— ìˆëŠ” currentë¡œ ê°’ì— ì ‘ê·¼, ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- `useRef`ëŠ” ê·¸ ê°’ì´ ë³€í•´ë„ **ë Œë”ë§ì„ ë°œìƒì‹œí‚¤ì§€ ì•ŠìŠµë‹ˆë‹¤.**

### ì‚¬ìš©ë²•

```jsx
const refContainer = useRef(initialValue);
```

### ë³€í™”ëŠ” ê°ì§€í•´ì•¼ í•˜ì§€ë§Œ, ë Œë”ë§ì„ ë°œìƒì‹œí‚¤ë©´ ì•ˆ ë  ë•Œ

### ì˜ˆì œ ì½”ë“œ: stateì™€ ref ë¹„êµ

```jsx
import { useRef, useState } from "react";

const App = () => {
  const [count, setCount] = useState(0);
  const countRef = useRef(0);

  const increaseCountState = () => {
    setCount(count + 1);
    console.log("State: ", count + 1);
  };

  const increaseCountRef = () => {
    countRef.current += 1;
    console.log("Ref: ", countRef.current);
  };

  return (
    <div>
      <h1>State: {count}</h1>
      <h1>Ref: {countRef.current}</h1>
      <button onClick={() => increaseCountState()}>State +1 </button>
      <button onClick={() => increaseCountRef()}>Ref +1</button>
    </div>
  );
};

export default App;

```

Ref + 1 ë²„íŠ¼ì„ ì•„ë¬´ë¦¬ ëˆŒëŸ¬ë„ í™”ë©´ì— ìˆ«ìê°€ ëŠ˜ì–´ë‚˜ì§€ ì•Šì§€ë§Œ, State + 1 ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ í™”ë©´ì—ì„œ ìˆ«ìê°€ refì˜ current ê°’ìœ¼ë¡œ ë³€ê²½ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. stateê°€ ë³€ê²½ì´ ë˜ì—ˆì„ ë•Œ ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ì‹œ ë Œë”ë§ ë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì¦‰, ì „ì²´ í™”ë©´ì´ ë‹¤ì‹œ ê·¸ë ¤ì§‘ë‹ˆë‹¤.

### DOM ìš”ì†Œì— ì ‘ê·¼í•˜ê³  ì‹¶ì„ ë•Œ

ë˜í•œ Refë¥¼ ì‚¬ìš©í•˜ë©´ DOM ìš”ì†Œì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ”ë°, ì´ëŠ” document.querySelector()ê³¼ ë¹„ìŠ·í•œ ê¸°ëŠ¥ì„ í•©ë‹ˆë‹¤.

```jsx
import { useRef } from "react";

function App() {
  const inputRef = useRef(null);

  const handleFocus = () => {
    inputRef.current.focus();
  };

  return (
    <div>
      <input ref={inputRef} type="text" />
      <button onClick={handleFocus}>Focus Input</button>
    </div>
  );
}

export default App;

```

ì´ì™€ ê°™ì´ useRefë¥¼ ì‚¬ìš©í•˜ë©´ íŠ¹ì • DOM ìš”ì†Œì— ì§ì ‘ ì ‘ê·¼í•˜ì—¬ ì¡°ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë˜í•œ, ì»´í¬ë„ŒíŠ¸ê°€ ì¬ë Œë”ë§ë  ë•Œë§ˆë‹¤ ì´ˆê¸°í™”ë˜ì§€ ì•ŠëŠ” ë³€ìˆ˜ ì €ì¥ì—ë„ ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ëŠ” ë¦¬ë Œë”ë§ì´ ë°œìƒí•´ë„ ë³€í•˜ì§€ ì•ŠëŠ” ê°’ì„ ìœ ì§€í•˜ê³  ì‹¶ì„ ë•Œ ë§¤ìš° ìœ ìš©í•©ë‹ˆë‹¤.

## 3.1.6 `useContext`

`useContext`ëŠ” ë¦¬ì•¡íŠ¸ì˜ Context APIë¥¼ ì‚¬ìš©í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ ì „ì²´ì— ê±¸ì³ ë°ì´í„°ë¥¼ ê³µìœ í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìì‹ ì»´í¬ë„ŒíŠ¸ë¡œ ì¼ì¼ì´ propsë¥¼ ì „ë‹¬í•˜ì§€ ì•Šê³ ë„ ë°ì´í„°ë¥¼ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì‚¬ìš©ë²•

```jsx
const value = useContext(MyContext);
```

### ì˜ˆì œ ì½”ë“œ

ë¨¼ì € Contextë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

```jsx
import React, { createContext, useContext } from "react";

const MyContext = createContext();

const MyProvider = ({ children }) => {
  const value = "Hello from Context!";
  return <MyContext.Provider value={value}>{children}</MyContext.Provider>;
};

const ChildComponent = () => {
  const value = useContext(MyContext);
  return <div>{value}</div>;
};

const App = () => {
  return (
    <MyProvider>
      <ChildComponent />
    </MyProvider>
  );
};

export default App;

```

ìœ„ì˜ ì˜ˆì œì—ì„œëŠ” `MyContext`ë¼ëŠ” Contextë¥¼ ë§Œë“¤ê³  `MyProvider` ì»´í¬ë„ŒíŠ¸ì—ì„œ ê°’ì„ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤. `ChildComponent`ì—ì„œëŠ” `useContext`ë¥¼ ì‚¬ìš©í•˜ì—¬ `MyContext`ì˜ ê°’ì„ ë°›ì•„ì™€ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤.

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/1b18b801-586a-4352-a753-3f1bfc5632fb/b398d33b-ff15-4702-b29b-3d954d28dd65/Untitled.png)

## 3.1.7 `useReducer`

`useReducer`ëŠ” ìƒíƒœ ê´€ë¦¬ ë¡œì§ì´ ë³µì¡í•˜ê±°ë‚˜, ì—¬ëŸ¬ í•˜ìœ„ ê°’ìœ¼ë¡œ ë‚˜ë‰˜ì–´ ê´€ë¦¬í•´ì•¼ í•˜ëŠ” ê²½ìš°ì— `useState`ë³´ë‹¤ ë” ë‚˜ì€ ëŒ€ì•ˆì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” Reduxì™€ ìœ ì‚¬í•œ ë°©ì‹ìœ¼ë¡œ ì‘ë™í•˜ë©°, `state`ì™€ `dispatcher` í•¨ìˆ˜ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, ìƒíƒœê°€ ì—¬ëŸ¬ ê°€ì§€ë¡œ ë‚˜ë‰˜ì–´ì ¸ ìˆê³  ì´ë“¤ì„ í•œêº¼ë²ˆì— ì—…ë°ì´íŠ¸í•´ì•¼ í•˜ëŠ” ê²½ìš°ì— ìœ ìš©í•©ë‹ˆë‹¤.

### ì‚¬ìš©ë²•

```jsx
const [state, dispatcher] = useReducer(reducer, initialState);

```

ë°˜í™˜ê°’ì€ useStateì™€ ë™ì¼í•˜ê²Œ ê¸¸ì´ê°€ 2ì¸ ë°°ì—´ì…ë‹ˆë‹¤.

- **state**: í˜„ì¬ ìƒíƒœ ê°’ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì´ ê°’ì€ `useReducer` í›…ì„ ì‚¬ìš©í•˜ì—¬ ê´€ë¦¬ë˜ëŠ” ìƒíƒœì…ë‹ˆë‹¤. ì´ˆê¸° ê°’ì€ `useReducer`ì˜ ë‘ ë²ˆì§¸ ì¸ìˆ˜ë¡œ ì „ë‹¬ëœ ê°’ì…ë‹ˆë‹¤.
- **dispatcher**: ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤. `dispatch` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œ ì•¡ì…˜ ê°ì²´ë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬í•´ì•¼ í•©ë‹ˆë‹¤. ì´ ì•¡ì…˜ ê°ì²´ëŠ” `type` ì†ì„±ì„ ê°€ì ¸ì•¼ í•˜ë©°, ì¶”ê°€ì ì¸ ë°ì´í„°ê°€ í•„ìš”í•˜ë‹¤ë©´ ë‹¤ë¥¸ ì†ì„±ë“¤ë„ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

useStateì˜ ì¸ìˆ˜ì™€ ë‹¬ë¦¬ 2ê°œì—ì„œ 3ê°œì˜ ì¸ìˆ˜ë¥¼ í•„ìš”ë¡œ í•©ë‹ˆë‹¤.

- reducer
- initialState
- init

### 1. reducer

`reducer`ëŠ” ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” í˜„ì¬ ìƒíƒœì™€ ì•¡ì…˜ì„ ë°›ì•„ì„œ ìƒˆë¡œìš´ ìƒíƒœë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. `reducer` í•¨ìˆ˜ì˜ êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

```jsx
function reducer(state, action) {
  switch (action.type) {
    case 'increment':
      return { count: state.count + 1 };
    case 'decrement':
      return { count: state.count - 1 };
    default:
      throw new Error();
  }
}
```

ìœ„ ì˜ˆì œì—ì„œ `reducer` í•¨ìˆ˜ëŠ” `action.type`ì— ë”°ë¼ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤. `increment` ì•¡ì…˜ì´ ì „ë‹¬ë˜ë©´ `count`ë¥¼ 1 ì¦ê°€ì‹œí‚¤ê³ , `decrement` ì•¡ì…˜ì´ ì „ë‹¬ë˜ë©´ `count`ë¥¼ 1 ê°ì†Œì‹œí‚µë‹ˆë‹¤.

### 2. initialState

`initialState`ëŠ” ìƒíƒœì˜ ì´ˆê¸°ê°’ì„ ì„¤ì •í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ëŠ” `useReducer` í›…ì´ ì²˜ìŒ í˜¸ì¶œë  ë•Œ ìƒíƒœì˜ ê¸°ë³¸ê°’ìœ¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì¹´ìš´í„°ì˜ ì´ˆê¸°ê°’ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```jsx
const initialState = { count: 0 };

```

ì´ ê°’ì„ `useReducer`ì˜ ë‘ ë²ˆì§¸ ì¸ìˆ˜ë¡œ ì „ë‹¬í•˜ë©´, ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒ ë Œë”ë§ë  ë•Œ ì´ ì´ˆê¸°ê°’ì´ ìƒíƒœë¡œ ì„¤ì •ë©ë‹ˆë‹¤.

### 3. init

`init`ì€ ì„ íƒì ì¸ ì´ˆê¸°í™” í•¨ìˆ˜ë¡œ, `initialState`ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì´ˆê¸° ìƒíƒœë¥¼ ì„¤ì •í•  ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” ì´ˆê¸° ìƒíƒœë¥¼ ê³„ì‚°í•˜ê±°ë‚˜ ë¹„ë™ê¸° ì‘ì—…ì„ í†µí•´ ì´ˆê¸° ìƒíƒœë¥¼ ì„¤ì •í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤. `init` í•¨ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¥¼ ê°€ì§‘ë‹ˆë‹¤:

```jsx
function init(initialState) {
  return { count: initialState.count + 1 };
}

```

`init` í•¨ìˆ˜ëŠ” `initialState`ë¥¼ ë°›ì•„ ì´ˆê¸° ìƒíƒœë¥¼ ê³„ì‚°í•˜ê³  ë°˜í™˜í•©ë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” `useReducer`ì˜ ì„¸ ë²ˆì§¸ ì¸ìˆ˜ë¡œ ì „ë‹¬ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì´ˆê¸° ìƒíƒœë¥¼ ì„¤ì •í•  ë•Œ ê³„ì‚°ì´ í•„ìš”í•˜ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```jsx
const [state, dispatch] = useReducer(reducer, initialState, init);
```

### ì˜ˆì œ ì½”ë“œ

`useReducer`ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°„ë‹¨í•œ ì¹´ìš´í„°ë¥¼ êµ¬í˜„í•œ ì˜ˆì œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

```jsx
import React, { useReducer } from 'react';

const initialState = { count: 0 };

function reducer(state, action) {
  switch (action.type) {
    case 'increment':
      return { count: state.count + 1 };
    case 'decrement':
      return { count: state.count - 1 };
    default:
      throw new Error();
  }
}

function Counter() {
  const [state, dispatch] = useReducer(reducer, initialState);

  return (
    <div>
      <p>Count: {state.count}</p>
      <button onClick={() => dispatch({ type: 'increment' })}>+</button>
      <button onClick={() => dispatch({ type: 'decrement' })}>-</button>
    </div>
  );
}

export default Counter;

```

ìœ„ì˜ ì˜ˆì œì—ì„œëŠ” `reducer` í•¨ìˆ˜ê°€ ì•¡ì…˜ íƒ€ì…ì— ë”°ë¼ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ê³ , `initialState`ê°€ ì´ˆê¸° ìƒíƒœë¥¼ ì„¤ì •í•˜ë©°, `dispatch` í•¨ìˆ˜ê°€ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ì•¡ì…˜ì„ ë³´ëƒ…ë‹ˆë‹¤.

## 3.1.8 `useImperativeHandle`

<aside>
ğŸ“Œ useImperativeHandleì€ ì‹¤ì œ ê°œë°œ ê³¼ì •ì—ì„œ ìì£¼ ë³¼ ìˆ˜ ì—†ëŠ” í›…ìœ¼ë¡œ ë„ë¦¬ ì‚¬ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜, ì¼ë¶€ ì‚¬ë¡€ì—ì„œëŠ” ìœ ìš©í•˜ê²Œ í™œìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìŠ¤í„°ë””ì—ì„  ì‹œê°„ ìƒ ì„¤ëª…ì€ ë„˜ì–´ê°€ë‹ˆ, ê´€ì‹¬ ìˆìœ¼ì‹  ë¶„ì€ ì½ì–´ ë³´ì‹œë©´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤!

</aside>

### useImperativeHandleì´ë€

`useImperativeHandle`ì€ Reactì—ì„œ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ ìì‹ ì»´í¬ë„ŒíŠ¸ì˜ ì¸ìŠ¤í„´ìŠ¤ ê°’ì„ ì§ì ‘ ë³€ê²½í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” í›…ì…ë‹ˆë‹¤. ì£¼ë¡œ `ref`ì™€ í•¨ê»˜ ì‚¬ìš©ë˜ë©°, íŠ¹ì • ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œë¥¼ ë…¸ì¶œí•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ìì‹ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì˜ DOM ìš”ì†Œë‚˜ ë©”ì„œë“œì— ì ‘ê·¼í•´ì•¼ í•  ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤.

### ì‚¬ìš©ë²•

```jsx
useImperativeHandle(ref, () => ({
  // ê°ì²´ ë°˜í™˜
}));

```

### ì˜ˆì œ ì½”ë“œ

```jsx
import React, { useImperativeHandle, useRef, forwardRef } from "react";

const CustomInput = forwardRef((props, ref) => {
  const inputRef = useRef();

  useImperativeHandle(ref, () => ({
    focus: () => {
      inputRef.current.focus();
    },
  }));

  return <input ref={inputRef} />;
});

const App = () => {
  const inputRef = useRef();

  return (
    <div>
      <CustomInput ref={inputRef} />
      <button onClick={() => inputRef.current.focus()}>Focus Input</button>
    </div>
  );
};

export default App;

```

`useImperativeHandle`ì€ ë‘ ê°œì˜ ì¸ìˆ˜ë¥¼ ë°›ìŠµë‹ˆë‹¤. ì²« ë²ˆì§¸ ì¸ìˆ˜ëŠ” `ref`ì´ê³ , ë‘ ë²ˆì§¸ ì¸ìˆ˜ëŠ” ì½œë°± í•¨ìˆ˜ì…ë‹ˆë‹¤. ì´ ì½œë°± í•¨ìˆ˜ëŠ” ê°ì²´ë¥¼ ë°˜í™˜í•˜ë©°, ì´ ê°ì²´ì˜ ì†ì„±ë“¤ì´ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ ê°’ì´ ë©ë‹ˆë‹¤.

ìœ„ì˜ ì˜ˆì œì—ì„œ `CustomInput` ì»´í¬ë„ŒíŠ¸ëŠ” `forwardRef`ë¥¼ ì‚¬ìš©í•˜ì—¬ `ref`ë¥¼ ì „ë‹¬ë°›ìŠµë‹ˆë‹¤. `useImperativeHandle`ì„ ì‚¬ìš©í•˜ì—¬ `focus` ë©”ì„œë“œë¥¼ ì •ì˜í•˜ê³ , ì´ë¥¼ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤. `App` ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” ë²„íŠ¼ í´ë¦­ ì‹œ `CustomInput`ì˜ `focus` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ì…ë ¥ í•„ë“œì— í¬ì»¤ìŠ¤ë¥¼ ë§ì¶œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## 3.1.9 `useLayoutEffect`

`useLayoutEffect`ëŠ” `useEffect`ì™€ ìœ ì‚¬í•˜ì§€ë§Œ, DOM ì—…ë°ì´íŠ¸ê°€ ì™„ë£Œëœ í›„ ì¦‰ì‹œ ì‹¤í–‰ë©ë‹ˆë‹¤. ì´ëŠ” ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë˜ë©°, ë¸Œë¼ìš°ì €ê°€ í™”ë©´ì„ ê·¸ë¦¬ê¸° ì „ì— ì‹¤í–‰ë©ë‹ˆë‹¤.

### ì‹¤í–‰ ìˆœì„œ

1. ë¦¬ì•¡íŠ¸ê°€ DOM ì—…ë°ì´íŠ¸
2. useLayoutEffect ì‹¤í–‰
3. ë¸Œë¼ìš°ì €ì— ë³€ê²½ ì‚¬í•­ ë°˜ì˜
4. useEffect ì‹¤í–‰

### ì‚¬ìš©ë²•

```jsx
useLayoutEffect(() => {
  // ì‘ì—…
}, [dependencies]);

```

### ì˜ˆì œ ì½”ë“œ

```jsx
import React, { useLayoutEffect, useRef } from "react";

const LayoutEffectExample = () => {
  const divRef = useRef(null);

  useLayoutEffect(() => {
    if (divRef.current) {
      divRef.current.style.backgroundColor = "yellow";
    }
  }, []);

  return <div ref={divRef}>useLayoutEffect Example</div>;
};

export default LayoutEffectExample;

```

ìœ„ì˜ ì˜ˆì œì—ì„œëŠ” `useLayoutEffect`ë¥¼ ì‚¬ìš©í•˜ì—¬ DOM ìš”ì†Œì˜ ìŠ¤íƒ€ì¼ì„ ì§ì ‘ ë³€ê²½í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ë¸Œë¼ìš°ì €ê°€ í™”ë©´ì„ ê·¸ë¦¬ê¸° ì „ì— ì ìš©ë©ë‹ˆë‹¤.

ìœ„ì˜ ì˜ˆì œì—ì„œëŠ” `useImperativeHandle`ì„ ì‚¬ìš©í•˜ì—¬ `CustomInput` ì»´í¬ë„ŒíŠ¸ì—ì„œ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ `input` ìš”ì†Œì— ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•˜ê³  ìˆìŠµë‹ˆë‹¤.

## 3.1.10 `useDebugValue`

`useDebugValue`ëŠ” ì»¤ìŠ¤í…€ í›…ì—ì„œ ë””ë²„ê·¸ ì •ë³´ë¥¼ í‘œì‹œí•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ëŠ” ì£¼ë¡œ ê°œë°œì ë„êµ¬ì—ì„œ í›…ì˜ ìƒíƒœë¥¼ ì‰½ê²Œ íŒŒì•…í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤. ë”°ë¼ì„œ ì¼ë°˜ì ìœ¼ë¡œ í”„ë¡œë•ì…˜ ì›¹ì„œë¹„ìŠ¤ì—ì„œ ì‚¬ìš©í•˜ëŠ” í›…ì€ ì•„ë‹ˆê³ , ê°œë°œ ê³¼ì •ì—ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤.

### ì‚¬ìš©ë²•

```jsx
useDebugValue(value);

```

### ì˜ˆì œ ì½”ë“œ

```jsx
import React, { useState, useDebugValue } from "react";

function useCount(initialValue) {
  const [count, setCount] = useState(initialValue);
  useDebugValue(count > 5 ? "High" : "Low");
  return [count, setCount];
}

const App = () => {
  const [count, setCount] = useCount(0);

  return (
    <div>
      <p>Count: {count}</p>
      <button onClick={() => setCount(count + 1)}>Increment</button>
    </div>
  );
};

export default App;

```

ìœ„ì˜ ì˜ˆì œì—ì„œëŠ” `useDebugValue`ë¥¼ ì‚¬ìš©í•˜ì—¬ `count` ê°’ì´ 5ë³´ë‹¤ í°ì§€ ì—¬ë¶€ë¥¼ ë””ë²„ê·¸ ì •ë³´ë¡œ í‘œì‹œí•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì£¼ë¡œ ê°œë°œ ì‹œì— ìœ ìš©í•˜ê²Œ ì‚¬ìš©ë©ë‹ˆë‹¤.

## 3.1.11 í›…ì˜ ê·œì¹™

- rules-of-hooks: ë¦¬ì•¡íŠ¸ì—ì„œ ì œê³µí•˜ëŠ” í›…ì€ ì‚¬ìš©í•˜ëŠ” ë° ëª‡ ê°€ì§€ ê·œì¹™ì´ ì¡´ì¬í•©ë‹ˆë‹¤. (ESLint ê·œì¹™ì¸ react-hooks/rules-of-hooksë„ ì¡´ì¬)
- https://ko.legacy.reactjs.org/docs/hooks-rules.html (ê³µì‹ ë¬¸ì„œ ì°¸ê³ )

1. ìµœìƒìœ„ì—ì„œë§Œ í›…ì„ í˜¸ì¶œí•´ì•¼ í•©ë‹ˆë‹¤. ë°˜ë³µë¬¸, ì¡°ê±´ë¬¸, ì¤‘ì²©ëœ í•¨ìˆ˜ ë‚´ì—ì„œ í›…ì„ ì‹¤í–‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í•­ìƒ ë™ì¼í•œ ìˆœì„œë¡œ í›…ì´ í˜¸ì¶œë˜ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
2. í›…ì„ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ê²ƒì€ ë¦¬ì•¡íŠ¸ í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸, í˜¹ì€ ì‚¬ìš©ì ì •ì˜ í›…ì˜ ë‘ ê°€ì§€ ê²½ìš° ë¿ì…ë‹ˆë‹¤. (JavaScript í•¨ìˆ˜ì—ì„œëŠ” í›…ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.)

## 3.1.12 ì •ë¦¬

ë¦¬ì•¡íŠ¸ì˜ í›…ë“¤ì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤. ê° í›…ì€ íŠ¹ì • ìƒí™©ì—ì„œ ë§¤ìš° ìœ ìš©í•˜ê²Œ ì‚¬ìš©ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ì´ë“¤ì„ ì˜ ì´í•´í•˜ê³  ì ì ˆíˆ í™œìš©í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ì‘ë™ ë°©ì‹ì„ ì œëŒ€ë¡œ ì´í•´í•˜ê³  ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ì¢‹ì€ ë¦¬ì•¡íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œì— ë„ì›€ì´ ë  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.

# 3.2 ì‚¬ìš©ì ì •ì˜ í›…ê³¼ ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ ì¤‘ ë¬´ì—‡ì„ ì¨ì•¼ í• ê¹Œ?

â†’ ì¤‘ë³µ ì½”ë“œë¥¼ í”¼í•˜ëŠ” ëª©ì ì—ì„œ ì¬ì‚¬ìš© ë¡œì§ì„ ì‘ì„±í•˜ëŠ” ë°©ì‹ ì™¸ì—ë„ ë¦¬ì•¡íŠ¸ì—ì„œëŠ” ì¬ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë¡œì§ì„ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ë‘ ê°€ì§€ ë°©ì‹ì´ ìˆìŠµë‹ˆë‹¤.

â†’ ì‚¬ìš©ì ì •ì˜ í›…ê³¼ ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ê°€ ë¬´ì—‡ì´ê³ , ê³µí†µëœ ì½”ë“œë¥¼ í•˜ë‚˜ë¡œ ë§Œë“¤ê³ ì í•  ë•Œ ì–´ë–¤ ê²ƒì„ íƒí•´ì•¼ í•˜ëŠ”ì§€ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

## 3.2.1 `ì‚¬ìš©ì ì •ì˜ í›…`

ì‚¬ìš©ì ì •ì˜ í›…(Custom Hook)ì€ Reactì˜ í›… ì‹œìŠ¤í…œì„ í™œìš©í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ ë¡œì§ì„ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ í•¨ìˆ˜ë¡œ ì¶”ì¶œí•œ ê²ƒì…ë‹ˆë‹¤.

### íŠ¹ì§•

1. ì´ë¦„ì€ ë°˜ë“œì‹œ '`use`'ë¡œ ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤.
2. Reactì˜ `ë‚´ì¥ í›…`ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
3. ì»´í¬ë„ŒíŠ¸ ê°„ ìƒíƒœ ë¡œì§ì„ `ê³µìœ `í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
4. í…ŒìŠ¤íŠ¸ì™€ ìœ ì§€ë³´ìˆ˜ê°€ ìš©ì´í•©ë‹ˆë‹¤.

### ì˜ˆì œ ì½”ë“œ: ìœˆë„ìš° í¬ê¸°ë¥¼ ì¶”ì í•´ ë°˜ì‘í˜• ì»´í¬ë„ŒíŠ¸ ë§Œë“œëŠ” ë° ì‚¬ìš©ë˜ëŠ” í›…

```jsx
function useWindowSize() {
  const [size, setSize] = useState({ width: 0, height: 0 });

  useEffect(() => {
    function updateSize() {
      setSize({ width: window.innerWidth, height: window.innerHeight });
    }
    window.addEventListener('resize', updateSize);
    updateSize();
    return () => window.removeEventListener('resize', updateSize);
  }, []);

  return size;
}

// ì‚¬ìš© ì˜ˆ
function ResponsiveComponent() {
  const { width, height } = useWindowSize();
  return <div>Window size: {width} x {height}</div>;
}

```

### ì½”ë“œ ì„¤ëª…

- useWindowSize í›…:
ì´ í›…ì€ í˜„ì¬ ë¸Œë¼ìš°ì € ìœˆë„ìš°ì˜ í¬ê¸°ë¥¼ ì¶”ì í•©ë‹ˆë‹¤.
    - useStateë¥¼ ì‚¬ìš©í•˜ì—¬ widthì™€ heightë¥¼ í¬í•¨í•˜ëŠ” size ìƒíƒœë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.
    - useEffect ë‚´ì—ì„œ:
        - updateSize í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ì—¬ í˜„ì¬ ìœˆë„ìš° í¬ê¸°ë¡œ size ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.
        - 'resize' ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ì¶”ê°€í•˜ì—¬ ìœˆë„ìš° í¬ê¸°ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ updateSizeë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.
        - ì´ˆê¸° ìœˆë„ìš° í¬ê¸°ë¥¼ ì„¤ì •í•˜ê¸° ìœ„í•´ updateSizeë¥¼ ì¦‰ì‹œ í˜¸ì¶œí•©ë‹ˆë‹¤.
        - í´ë¦°ì—… í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ ì‹œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ì œê±°í•©ë‹ˆë‹¤.
    - í˜„ì¬ size ìƒíƒœë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
- ResponsiveComponent:
ì´ ì»´í¬ë„ŒíŠ¸ëŠ” useWindowSize í›…ì„ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ ìœˆë„ìš° í¬ê¸°ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.
    - useWindowSize í›…ì„ í˜¸ì¶œí•˜ì—¬ í˜„ì¬ widthì™€ heightë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
    - ì´ ê°’ë“¤ì„ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ ìœˆë„ìš° í¬ê¸°ë¥¼ í™”ë©´ì— í‘œì‹œí•©ë‹ˆë‹¤.

ì‚¬ìš©ì ì •ì˜ í›…ì€ ë¦¬ì•¡íŠ¸ ì»¤ë®¤ë‹ˆí‹°ì—ì„œ ë‹¤ì–‘í•˜ê²Œ ì°¾ì•„ë³¼ ìˆ˜ ìˆëŠ”ë°, use-Hooks, react-use, ahooks ë“± í•„ìš”í•œ ê¸°ëŠ¥ì´ ìˆë‹¤ë©´ ì´ ì €ì¥ì†Œë“¤ì„ ì°¸ê³ í•˜ë©´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.

## 3.2.2 `ê³ ì°¨ ì»´í¬ë„ŒíŠ¸`

ê³ ì°¨ ì»´í¬ë„ŒíŠ¸(Higher-Order Component, HOC)ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ì¸ìë¡œ ë°›ì•„ ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.

### íŠ¹ì§•

1. ì»´í¬ë„ŒíŠ¸ ë¡œì§ì„ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
2. ì›ë³¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šê³  ê¸°ëŠ¥ì„ í™•ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
3. props ì¡°ì‘, ìƒíƒœ ê´€ë¦¬, ë Œë”ë§ ë¡œì§ ë³€ê²½ ë“±ì— ì‚¬ìš©ë©ë‹ˆë‹¤.

ê³ ì°¨ í•¨ìˆ˜ì˜ ì¼ì¢…ìœ¼ë¡œ, ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ì¼ê¸‰ ê°ì²´, í•¨ìˆ˜ì˜ íŠ¹ì§•ì„ ì´ìš©í•´ì„œ êµ³ì´ ë¦¬ì•¡íŠ¸ê°€ ì•„ë‹Œ ìë°”ìŠ¤í¬ë¦½íŠ¸ í™˜ê²½ì—ì„œë„ ì“°ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### `React.memo`ë€?

React.memoëŠ” ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ì˜ ì¼ì¢…ìœ¼ë¡œ, ì»´í¬ë„ŒíŠ¸ì˜ propsê°€ ë³€ê²½ë˜ì§€ ì•Šì•˜ì„ ë•Œ ë¦¬ë Œë”ë§ì„ ë°©ì§€í•˜ì—¬ ì„±ëŠ¥ì„ ìµœì í™”í•©ë‹ˆë‹¤.

```jsx

const MemoizedComponent = React.memo(function MyComponent(props) {
// ì»´í¬ë„ŒíŠ¸ ë¡œì§
});

```

### ê³ ì°¨ í•¨ìˆ˜ ë§Œë“¤ì–´ë³´ê¸°

ê³ ì°¨ í•¨ìˆ˜ì˜ ì‚¬ì „ì ì¸ ì •ì˜: â€˜í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ë°›ê±°ë‚˜ ê²°ê³¼ë¡œ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜â€™

ëŒ€í‘œì ì¸ ê³ ì°¨ í•¨ìˆ˜

`Array.prototype.map`

```jsx
const list = [1, 2, 3]
const doubledList = list.map((item) => item * 2)
```

### ì˜ˆì œ ì½”ë“œ

```jsx
function add(a) {
	return function (b) {
		return a + b
	}
}

const result = add(1) // resultëŠ” ì•ì„œ ë°˜í™˜í•œ í•¨ìˆ˜
const result2 = result(2) // aì™€ bë¥¼ ë”í•œ 3 ë°˜í™˜
```

- add(1)ë¼ëŠ” í•¨ìˆ˜ í˜¸ì¶œ ì‹œì : 1ì´ë¼ëŠ” ì •ë³´ê°€ aì— í¬í•¨, ì´ëŸ¬í•œ ì •ë³´ê°€ ë‹´ê¸´ í•¨ìˆ˜ë¥¼ resultë¡œ ë°˜í™˜
- a = 1ì´ë¼ëŠ” ì •ë³´ê°€ ë‹´ê¸´ í´ë¡œì €ê°€ resultì— í¬í•¨ë¨: result(2)ë¥¼ í˜¸ì¶œí•˜ë©´ì„œ a=1ì¸ ì •ë³´ë¥¼ í™œìš©í•´ 1 + 2 ê²°ê³¼ ë°˜í™˜ ê°€ëŠ¥

### ê³ ì°¨ í•¨ìˆ˜ë¥¼ í™œìš©í•œ ë¦¬ì•¡íŠ¸ ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ì–´ë³´ê¸°

```jsx
function withAuth(WrappedComponent) {
  return function(props) {
    const [isAuthenticated, setIsAuthenticated] = useState(false);

    useEffect(() => {
// ì¸ì¦ ìƒíƒœ í™•ì¸ ë¡œì§
      checkAuthStatus().then(status => setIsAuthenticated(status));
    }, []);

    if (!isAuthenticated) {
      return <div>Please log in to view this content.</div>;
    }

    return <WrappedComponent {...props} />;
  }
}

// ì‚¬ìš© ì˜ˆ
const ProtectedComponent = withAuth(SensitiveDataComponent);

```

ì¸ì¦(authentication) ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ëŠ” ê³ ì°¨ ì»´í¬ë„ŒíŠ¸(HOC)ë¥¼ êµ¬í˜„í•œ ì½”ë“œì…ë‹ˆë‹¤.

1. `withAuth í•¨ìˆ˜`: ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜
    - ì¸ìë¡œ WrappedComponentë¥¼ ë°›ìŠµë‹ˆë‹¤. ì´ëŠ” ë³´í˜¸í•˜ë ¤ëŠ” ì›ë³¸ ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤.
    - ìƒˆë¡œìš´ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
2. `ë°˜í™˜`ëœ ì»´í¬ë„ŒíŠ¸:
    - useStateë¥¼ ì‚¬ìš©í•˜ì—¬ isAuthenticated ìƒíƒœë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤. ì´ˆê¸°ê°’ì€ falseì…ë‹ˆë‹¤.
    - useEffectë¥¼ ì‚¬ìš©í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ì‹œ ì¸ì¦ ìƒíƒœë¥¼ í™•ì¸í•©ë‹ˆë‹¤:
        - checkAuthStatus() í•¨ìˆ˜(ë³„ë„ë¡œ ì •ì˜ë˜ì–´ì•¼ í•¨)ë¥¼ í˜¸ì¶œí•˜ì—¬ ì¸ì¦ ìƒíƒœë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
        - í™•ì¸ëœ ìƒíƒœë¡œ isAuthenticatedë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.
    - ì¡°ê±´ë¶€ ë Œë”ë§ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤:
        - ì¸ì¦ë˜ì§€ ì•Šì€ ê²½ìš° ë¡œê·¸ì¸ ë©”ì‹œì§€ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.
        - ì¸ì¦ëœ ê²½ìš° WrappedComponentë¥¼ ë Œë”ë§í•˜ë©°, ëª¨ë“  propsë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.
3. ì‚¬ìš© ì˜ˆ:
    - SensitiveDataComponent(ë³„ë„ë¡œ ì •ì˜ë˜ì–´ì•¼ í•¨)ë¥¼ withAuth HOCë¡œ ê°ì‹¸ ProtectedComponentë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

## 3.2.3 ì‚¬ìš©ì ì •ì˜ í›…ê³¼ ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ ì¤‘ ë¬´ì—‡ì„ ì¨ì•¼ í• ê¹Œ?

### ì„ íƒ ê¸°ì¤€

1. ë¡œì§ì˜ ì„±ê²©: ìƒíƒœ ê´€ë¦¬ë‚˜ ìƒëª…ì£¼ê¸°ì™€ ê´€ë ¨ëœ ë¡œì§ì€ ì‚¬ìš©ì ì •ì˜ í›…ì´ ì í•©í•©ë‹ˆë‹¤.
2. ì¬ì‚¬ìš©ì„±: ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë™ì¼í•œ ë¡œì§ì„ ì‚¬ìš©í•´ì•¼ í•  ë•ŒëŠ” ë‘˜ ë‹¤ ìœ ìš©í•˜ì§€ë§Œ, ì‚¬ìš©ì ì •ì˜ í›…ì´ ë” ìœ ì—°í•©ë‹ˆë‹¤.
3. ë Œë”ë§ ì œì–´: ì»´í¬ë„ŒíŠ¸ì˜ ë Œë”ë§ì„ ì œì–´í•´ì•¼ í•  ë•ŒëŠ” ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ê°€ ë” ì í•©í•©ë‹ˆë‹¤.
4. ê°€ë…ì„±: ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ì ì •ì˜ í›…ì´ ë” ì§ê´€ì ì´ê³  ì´í•´í•˜ê¸° ì‰½ìŠµë‹ˆë‹¤.
5. ì„±ëŠ¥: ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ëŠ” ì¶”ê°€ì ì¸ ì»´í¬ë„ŒíŠ¸ ê³„ì¸µì„ ë§Œë“¤ ìˆ˜ ìˆì–´ ì„±ëŠ¥ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### `ì‚¬ìš©ì ì •ì˜ í›…`ì´ í•„ìš”í•œ ê²½ìš°:

1. ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë™ì¼í•œ ìƒíƒœ ë¡œì§ì„ ì¬ì‚¬ìš©í•´ì•¼ í•  ë•Œ
2. ë³µì¡í•œ ìƒíƒœ ê´€ë¦¬ë‚˜ side effectë¥¼ ì¶”ìƒí™”í•˜ê³  ì‹¶ì„ ë•Œ

### `ê³ ì°¨ ì»´í¬ë„ŒíŠ¸`ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²½ìš°:

1. ë Œë”ë§ì˜ ê²°ê³¼ë¬¼ì—ë„ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ê³µí†µ ë¡œì§ì¼ ë•Œ (ì¸ì¦ ë° ê¶Œí•œ ê´€ë¦¬, ë¡œê¹…, ì—ëŸ¬ ê²½ê³„ êµ¬í˜„ ë“±)

## 3.2.4 ì •ë¦¬

ì‚¬ìš©ì ì •ì˜ í›…ì€ ìƒíƒœ ê´€ë¦¬ì™€ side effect ì²˜ë¦¬ì— ì í•©í•©ë‹ˆë‹¤. ë°˜ë©´ ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ëŠ” ë Œë”ë§ ë¡œì§ì˜ ì¬ì‚¬ìš©ì— ìœ ìš©í•©ë‹ˆë‹¤.

ê°œë°œí•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê·œëª¨ê°€ ì»¤ì§€ê³  ë¡œì§ì´ ë§ì•„ì§ˆìˆ˜ë¡ ì¤‘ë³µ ì‘ì—…ì— ëŒ€í•œ ê³ ë¯¼ ë˜í•œ ì»¤ì§ˆ ê²ƒì…ë‹ˆë‹¤. í”„ë¡œì íŠ¸ì˜ ìš”êµ¬ì‚¬í•­ê³¼ ìƒí™©ì— ë”°ë¼ ì ì ˆí•œ ë°©ì‹ì„ ì„ íƒí•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.